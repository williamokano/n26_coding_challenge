= N26 Coding Challenge
:doctype: book
:icons: font
:source-highlighter: highlightjs
:toc: left
:toclevels: 2
:toc-title: Table of contents
:sectlinks:

[[overview]]
Coding challenge for N26 hiring process. The test consists in saving transactions and recovering statistics with O(1) (constant) time.

[[overview-http-status-codes]]
== HTTP status codes

|===
| Status code | When it happens

| `201 OK`
| Created with success. This response occurs whenever a transaction is successfully created.

| `204 No Content`
| There's no content. This response occurs whenever a transaction fails to be created because it's older than 60 seconds or whenever you delete all transactions.

| `400 Bad Request`
| The provided payload is an unexpected format.

| `422 Unprocessable Entity`
| The provided payload could not be parsed into the destination object.
|===

[[endpoints]]
== Endpoints

[[create-transaction]]
=== Create / Add Transaction

This endpoint is called to create a new transaction. It executes in constant time and memory (O(1)).

Call curl:
include::{snippets}/should_create_transaction/curl-request.adoc[]

Request:
include::{snippets}/should_create_transaction/http-request.adoc[]

Request Fields:
include::{snippets}/should_create_transaction/request-fields.adoc[]

Response success:
include::{snippets}/should_create_transaction/http-response.adoc[]

[[get-statistics]]
=== Get Statistics
This endpoint returns the statistics based on the transactions that happened in the last 60 seconds. It executes in constant time and memory (O(1)).

Call curl:
include::{snippets}/should_obtain_calculated_statistics_when_has_transaction/curl-request.adoc[]

Request:
include::{snippets}/should_obtain_calculated_statistics_when_has_transaction/http-request.adoc[]

Response Fields:
include::{snippets}/should_obtain_calculated_statistics_when_has_transaction/response-fields.adoc[]

Response success:
include::{snippets}/should_obtain_calculated_statistics_when_has_transaction/http-response.adoc[]

IMPORTANT: All BigDecimal values always contain exactly two decimal places and use `HALF_ROUND_UP` rounding. eg: 10.345 is returned as 10.35, 10.8 is returned as 10.80

[[delete-transactions]]
=== Delete Transactions
This endpoint causes all existing transactions to be deleted.

Call curl:
include::{snippets}/should_delete_transactions/curl-request.adoc[]

Request:
include::{snippets}/should_delete_transactions/http-request.adoc[]

Response success:
include::{snippets}/should_delete_transactions/http-response.adoc[]
